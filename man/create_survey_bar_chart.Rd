% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bar_charts.R
\name{create_survey_bar_chart}
\alias{create_survey_bar_chart}
\title{Créer un graphique en barres multiples à partir de données d'enquête}
\usage{
create_survey_bar_chart(
  data,
  group_var,
  category_var,
  weight_var = "weight",
  mapping = NULL,
  category_order = NULL,
  category_groups = NULL,
  group_order = NULL,
  colors = NULL,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  caption_suffix = NULL,
  value_titles = NULL,
  output_path = "plot.png",
  logo_path = NULL,
  ...
)
}
\arguments{
\item{data}{Un data.frame contenant les données d'enquête}

\item{group_var}{Nom de la variable de groupement (ex: "dv_voteChoice")}

\item{category_var}{Nom de la variable de catégorie (ex: "lifestyle_goMuseumsFreq_factor")}

\item{weight_var}{Nom de la variable de pondération (default: "weight")}

\item{mapping}{Un named list qui définit comment convertir les valeurs de group_var en noms affichés}

\item{category_order}{Un vecteur définissant l'ordre des niveaux de category_var}

\item{category_groups}{Une liste nommée regroupant les niveaux de category_var en groupes}

\item{group_order}{Un vecteur définissant l'ordre des niveaux de group_var après la conversion}

\item{colors}{Un vecteur nommé de couleurs pour chaque niveau de group_var après la conversion}

\item{title}{Titre principal du graphique}

\item{subtitle}{Sous-titre du graphique}

\item{caption}{Légende du graphique (par défaut, contient des infos sur les données)}

\item{caption_suffix}{Texte à ajouter à la fin de la légende générée automatiquement}

\item{output_path}{Chemin pour sauvegarder le graphique}

\item{logo_path}{Chemin vers le logo à ajouter}

\item{...}{Arguments supplémentaires passés à create_multi_bar_chart}
}
\value{
Le graphique ggplot final
}
\description{
Cette fonction simplifie le processus de création d'un graphique en barres multiples
en automatisant le calcul des pourcentages à partir de données d'enquête brutes.
}
\examples{
\dontrun{
# Simuler un jeu de données d'enquête
set.seed(123)
survey_data <- data.frame(
  dv_voteChoice = sample(c("cpc", "lpc", "ndp", "bq", "gpc"), 1000, replace = TRUE),
  lifestyle_goMuseumsFreq_factor = sample(
    c("never", "almost_never", "sometimes", "often", "very_often"),
    1000, replace = TRUE
  ),
  weight = runif(1000, 0.5, 1.5)
)

# Définir le mapping et les couleurs des partis
party_mapping <- list(
  "cpc" = "PCC",
  "lpc" = "PLC",
  "ndp" = "NPD",
  "bq" = "BQ",
  "gpc" = "PV"
)

party_colors <- c(
  "PCC" = "#1A4782",
  "PLC" = "#D71920",
  "BQ" = "#33B2CC", 
  "NPD" = "#F58220",
  "PV" = "#3D9B35"
)

# Définir les groupes de catégories
museum_groups <- list(
  "never_pct" = "never",
  "sometimes_pct" = c("almost_never", "sometimes"),
  "souvent_pct" = c("often", "very_often")
)

# Créer le graphique
create_survey_bar_chart(
  data = survey_data,
  group_var = "dv_voteChoice",
  category_var = "lifestyle_goMuseumsFreq_factor",
  mapping = party_mapping,
  category_groups = museum_groups,
  colors = party_colors,
  title = "FRÉQUENCE DE VISITES AUX MUSÉES PAR AFFILIATION POLITIQUE",
  subtitle = "Pourcentage de partisans selon leur fréquence de visites aux musées",
  value_titles = c("JAMAIS", "PARFOIS", "SOUVENT"),
  output_path = "musee_barplot_survey.png"
)
}

}
